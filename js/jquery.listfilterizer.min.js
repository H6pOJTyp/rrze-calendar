!function(t){void 0===typeof console&&(console={log:function(){}}),jQuery.expr[":"].containsi=function(t,e,l){return(t.textContent||t.innerText||"").toLowerCase().indexOf(l[3].toLowerCase())>=0},t.fn.listFilterizer=function(e){e=t.extend({},t.fn.listFilterizer.defaults,e);var l=document.createElement("input"),s=e.filters.length>0;return this.each((function(){var a,i,r,n,o;function c(t){return h(),!1}function d(t){switch(t.keyCode){case 13:t.preventDefault();break;case 27:t.target.setAttribute("value","")}}function u(t){h()}function f(e){e.preventDefault(),p(t(this))}function p(t){t.siblings().removeClass(e.activeTabClass).end().addClass(e.activeTabClass),h()}function h(){var t,l,n=t=(t=r.val()||"")==e.inputPlaceholder?"":t,o=function(){if(s)return i.find("."+e.activeTabClass).attr(e._filterIdAttr)||-1}(),c=$listItems=a.find(e.elementSelector);if(o){var d=(l=o,e.filters[l]);c=c.filter(d.selector)}n&&(c=c.filter(":containsi("+n+")")),$listItems.hide(),c.show()}!function(h){if(a=t(h),o=t("<"+e.containerTag+"/>").attr(e.containerAttrs),n=t("<"+e.toolsTag+"/>").attr(e.toolsAttrs).addClass(e.toolsClass),s){i=t("<ul/>").addClass(e.tabsClass);for(var v=0;v<e.filters.length;v++){var C=e.filters[v],b=t("<li/>").text(C.label).attr(e._filterIdAttr,v).bind("click",f);i.append(b)}n.append(i)}var A=(l.setAttribute("type","search"),"text"!==l.type?"search":"text");r=t("<input/>").attr("type",A).attr(e.inputAttrs).addClass(e.inputClass).bind("search",c).bind("keydown",d).bind("keyup",u).attr("placeholder",e.inputPlaceholder),"placeholder"in l||r.addClass(e.inputPlaceholderClass).val(e.inputPlaceholder).focus((function(){var l=t(this);l.val()==e.inputPlaceholder&&l.val("").removeClass(e.inputPlaceholderClass)})).blur((function(){var l=t(this);t.trim(l.val())||l.val(e.inputPlaceholder).addClass(e.inputPlaceholderClass)})),n.append(r),o.append(n).insertBefore(a).append(a),s&&p(i.children().first())}(this)}))},t.fn.listFilterizer.defaults={filters:[{label:"All",selector:"*"},{label:"Selected",selector:":has(input:checked)"}],showCounts:!0,selectedClass:"selected",elementSelector:"li",containerTag:"div",containerAttrs:{},toolsTag:"div",toolsClass:"list-filterizer-tools",toolsAttrs:{},tabsClass:"list-filterizer-tabs",tabsAttrs:{},activeTabClass:"active",inputClass:"list-filterizer-search",inputPlaceholder:"Search...",inputPlaceholderClass:"input-placeholder",inputAttrs:{},noResultsText:"No results found",_filterIdAttr:"data-listfilterid"}}(jQuery);